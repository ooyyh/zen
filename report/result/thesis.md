# Zen Campus ?????????????

## ??

????????????? + ???????????????????????????????? Zen Campus????????????????? Spring Boot + MyBatis + MySQL????? Vue 3 + Vite?????????? Redis + Redisson????????????? WebSocket ??????????????????????????????????????????????????????????????????????????????

???????????????????????????????????????????????????????????????????????????????????????????? `sys_config` ????????????????????????????????????????????????

**???**????????????????????WebSocket?RBAC?Spring Boot?Vue 3

---

## 1 ??

### 1.1 ????

??????????????????????????? + ??????? + ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????

### 1.2 ????

1. ?????????????????????
2. ??????????????????????????
3. ?????????????????????????
4. ???????????????????????

### 1.3 ????

- ???????????????????
- ?????????????????????????????????
- ??????????????????????????
- ????????????????????

---

## 2 ??????

### 2.1 ????

#### 2.1.1 ?????

- ?????????JWT ???
- ????????STUDENT?????TEACHER??????ADMIN?
- ???????????

#### 2.1.2 ????

- ?????????????????????
- ????????/???
- ???????

#### 2.1.3 ????

- ???????
- ???????????
- ???????????

#### 2.1.4 ????

- ???????????????????
- ???????????

#### 2.1.5 ????

- ??/????
- ??/??/??
- ??????

#### 2.1.6 ?????

- ????????
- ??????????
- Redis ?????pending?+ WebSocket ????
- Canvas ??????????

#### 2.1.7 ?????

- ?????????/???
- ???????????
- ????????????
- ????????????

### 2.2 ?????

1. **???**????????????????
2. **????**??????????????
3. **????**?????????????
4. **???**??????????????????
5. **???**?JWT ???????????????

---

## 3 ????

### 3.1 ??????

??????????????1?`report/result/charts/01_System_Architecture.puml`??

- ???Vue 3 + Vue Router + ECharts + STOMP ???
- ???Spring Boot + Controller/Service/Mapper ??
- ????MySQL???????+ Redis????????
- ???REST API + WebSocket?/ws?/topic?

### 3.2 ??????

??????2?`report/result/charts/02_Functional_Modules.puml`??

- ????? RBAC
- ????????/??/??/??/???
- ?????????
- ?????????????????

### 3.3 ?????

???????3?`report/result/charts/03_Database_ER.puml`??

?????? 18 ?????

- ??????`user`
- ?????`classroom`?`reservation`?`approval_task`
- ?????`sys_config`?`message_template`?`message`
- ???`lecture`?`lecture_signup`?`lecture_checkin`
- ???`equipment`?`equipment_borrow`
- ???`bus_route`?`bus_trip`?`bus_booking`
- ????`study_room`?`seat`?`seat_reservation`

### 3.4 ??????

??????4?`report/result/charts/04_User_Roles_Permissions.puml`??

- ????????????????????
- ???????????????????
- ???????????????????????

### 3.5 ??????

??????????????5?`report/result/charts/05_Business_Process_Sequence.puml`??

1. ?????? pending?Redis 30 ? TTL?
2. ???? pending ???WebSocket?
3. ??????????????? `lock:seat:{id}`
4. ????????? `seat_reservation`
5. ?? RESERVED?????????

---

## 4 ????

### 4.1 ????

????????6?`report/result/charts/06_Frontend_Page_Structure.puml`??

- ?? `AppShell` ??????????????/????/?????????????
- ?????? 35 ???????????????
- ??????? ECharts???????????

### 4.2 ????

??????7?`report/result/charts/07_API_Interface_Design.puml`??

?????? 22 ?????84 ? API ???????????

- ??????`/api/auth/*`?`/api/user/*`?`/api/admin/users/*`
- ?????`/api/classrooms`?`/api/reservations/*`?`/api/admin/approvals/*`
- ???`/api/lectures/*`?`/api/admin/lectures/*`
- ???`/api/equipments/*`?`/api/admin/equipments/*`
- ???`/api/bus/*`?`/api/admin/bus/*`
- ????`/api/study-rooms/*`?`/api/seat-status/*`?`/api/admin/study-rooms/*`
- ??????`/api/messages/*`?`/api/admin/message-templates/*`?`/api/admin/reports/*`

### 4.3 ??????

??????8?`report/result/charts/08_Technical_Architecture_Layers.puml`??

- ????Vue + ?? + ?? + WebSocket ???
- ????Controller ?????????
- ??????????????????
- ??????MyBatis Mapper + SQL ??
- ??????MySQL?Redis?WebSocket?JWT

### 4.4 ??????

#### 4.4.1 ???????????

???????????? Redisson ??

- ???`lock:classroom:{classroomId}`
- ???`lock:lecture:{lectureId}`
- ???`lock:equipment:{equipmentId}`
- ???`lock:bus:trip:{tripId}`
- ???`lock:seat:{seatId}`

????????? `application.yml` ??????????????

#### 4.4.2 ???????

??????? `sys_config`?`reservation_rules`???????

- ?????timeSlotMinutes?
- ????????advanceDays?
- ?????dailyLimit?
- ??/?????minDurationMinutes/maxDurationMinutes?
- ???????approvalRequired?

????? `/api/admin/config/reservation-rules` ????????????

#### 4.4.3 ??????

????????? `RESERVATION_CREATED`?`LECTURE_WAITLIST`?`BUS_PROMOTED`???????????????????????? `message` ?????????

#### 4.4.4 WebSocket ??????

??????????? `/topic/seat-status` ???????PENDING/RESERVED/AVAILABLE???????????????????????

---

## 5 ???????

### 5.1 ????

???????????????

1. ?????`mvn -DskipTests compile`?**BUILD SUCCESS**??????2026-02-09??
2. ?????`zen-ui` ?? `npm run build`?**????**?

### 5.2 ??????

?????????????????????

- ?????????
- ???????/???
- ?????????
- ??????????????
- ?????????????
- ???????????

### 5.3 ????????

1. ????????????Dashboard ECharts ?? chunk > 500KiB??????????
2. ??????????????????????? UTF-8 ? BOM?
3. ???????????????????????

---

## 6 ????

??????9?`report/result/charts/09_Deployment_Architecture.puml`??

### 6.1 ??????

- ???Nginx ??????
- ???Spring Boot ???????????
- ???MySQL????? `zen`?
- ???Redis?????????????
- ?????WebSocket?STOMP?

### 6.2 ?????

- ?????? + ????
- Redis ????????
- MySQL ?????????
- ????? Prometheus + Grafana

---

## 7 ?????

??????????????????????????????????????????????????????????????????????????????????????

??????????

1. ?????????SSO???????????
2. ???????????? + ???? + ?? E2E??
3. ???????????????????????
4. ??????????????????/??/??????

---

## ????

[1] Spring Boot Reference Documentation. https://docs.spring.io/spring-boot/docs/2.6.13/reference/html/

[2] MyBatis 3 User Guide. https://mybatis.org/mybatis-3/

[3] Redisson Documentation. https://redisson.org/docs/

[4] Redis Documentation. https://redis.io/docs/

[5] Vue.js Documentation. https://vuejs.org/guide/introduction.html

[6] Vue Router Documentation. https://router.vuejs.org/

[7] Apache ECharts Documentation. https://echarts.apache.org/

[8] RFC 7519: JSON Web Token (JWT). https://www.rfc-editor.org/rfc/rfc7519
