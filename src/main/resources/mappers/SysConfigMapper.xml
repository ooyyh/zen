<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hbnu.zen.mapper.SysConfigMapper">
    <resultMap id="ConfigMap" type="com.hbnu.zen.mybatis.entity.SysConfig">
        <id column="config_key" property="configKey" />
        <result column="config_value" property="configValue" />
        <result column="updated_at" property="updatedAt" />
    </resultMap>

    <select id="selectByKey" resultMap="ConfigMap">
        select * from sys_config where config_key = #{configKey}
    </select>

    <insert id="upsert">
        insert into sys_config (config_key, config_value)
        values (#{configKey}, #{configValue})
        on duplicate key update config_value = #{configValue}
    </insert>
</mapper>
